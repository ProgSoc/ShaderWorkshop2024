{"name":"Phong","goals":[],"shaders":[{"filename":"main.vert","contents":"#version 300 es\n\nin vec3 position;\nin vec3 normal;\nin vec2 uv;\n\nuniform mat4 model;\nuniform mat4 view;\nuniform mat4 projection;\n\nout vec3 vNormal;\nout vec2 vUv;\nout vec4 vPos;\n\nvoid main() {\n    vUv = uv;\n    vNormal = (model * vec4(normal, 0.)).xyz;\n    vPos = model * vec4(position, 1.);\n    gl_Position = projection * view * vPos;\n}"},{"filename":"main.frag","contents":"#version 300 es\n\nprecision highp float;\n\nin vec3 vNormal;\nin vec2 vUv;\nin vec4 vPos;\n\nout vec4 FragColor;\n\nuniform sampler2D surface;\nuniform sampler2D nmap;\nuniform sampler2D spec;\nuniform float time;\n\nvoid main() {\n    // The colour of the surface with no light on it\n    vec3 ambient = vec3(1, 0.2, 0.3);\n\n    // Normally we would import these as a uniforms\n    vec3 cameraPosition = vec3(0., 0., 10.);\n    vec3 sun = vec3(sin(time), -1, cos(time));\n\n    vec3 viewDirection = normalize(vPos.xyz - cameraPosition);\n\n    // Do shading here\n\n    vec3 final = ambient;\n    FragColor = vec4(final, 1.);\n}"}],"pipelineGraph":{"nodes":[{"id":"0.4025455024919875","type":"uniform","position":{"x":180.5,"y":-225},"data":{"label":"uniform node","type":"projection","fov":45,"near":0.1,"far":100},"origin":[0.5,0],"measured":{"width":161,"height":160},"selected":false,"dragging":false},{"id":"0.5984985949643993","type":"uniform","position":{"x":155.5,"y":-50},"data":{"label":"uniform node","type":"view","x":0,"y":0,"z":10,"targetX":0,"targetY":0,"targetZ":0,"upX":0,"upY":1,"upZ":0},"origin":[0.5,0],"measured":{"width":161,"height":331},"selected":false,"dragging":false},{"id":"0.6788965243760299","type":"shader","position":{"x":461,"y":100},"data":{"label":"shader node","shaderSourceFileName":"main.vert"},"origin":[0.5,0],"measured":{"width":221,"height":120},"selected":false,"dragging":false},{"id":"0.6883502327990607","type":"gl-program","position":{"x":791,"y":250},"data":{"label":"gl-program node"},"origin":[0.5,0],"measured":{"width":131,"height":86},"selected":false,"dragging":false},{"id":"0.19876326526039723","type":"geometry","position":{"x":504,"y":500},"data":{"label":"geometry node","type":"Model","uniformOverrides":["model"],"modelSrc":"sphere.obj"},"origin":[0.5,0],"measured":{"width":207,"height":170},"selected":false,"dragging":false},{"id":"0.017774521536926935","type":"uniform","position":{"x":255.5,"y":800},"data":{"label":"uniform node","type":"translation","y":0,"z":4},"origin":[0.5,0],"measured":{"width":161,"height":160},"selected":false,"dragging":false},{"id":"0.4656143492836935","type":"shader","position":{"x":500,"y":300},"data":{"label":"shader node","shaderSourceFileName":"main.frag"},"origin":[0.5,0],"measured":{"width":221,"height":137},"selected":false},{"id":"0.9690603646205747","type":"window","position":{"x":968.5,"y":275},"data":{"label":"window node"},"origin":[0.5,0],"measured":{"width":86,"height":40},"selected":false,"dragging":false},{"id":"0.7345933226692245","type":"uniform","position":{"x":230.5,"y":700},"data":{"label":"uniform node","type":"time"},"origin":[0.5,0],"measured":{"width":161,"height":73},"selected":false,"dragging":false},{"id":"0.7682362537268734","type":"uniform","position":{"x":-69.5,"y":250},"data":{"label":"uniform node","type":"texture","textureSrc":"rock.jpg"},"origin":[0.5,0],"measured":{"width":161,"height":201},"selected":false,"dragging":false},{"id":"0.6542128537531322","type":"uniform","position":{"x":-69.5,"y":475},"data":{"label":"uniform node","type":"texture","textureSrc":"rock_n.jpg"},"origin":[0.5,0],"measured":{"width":161,"height":201},"selected":false,"dragging":false},{"id":"0.06254261165239616","type":"uniform","position":{"x":-69.5,"y":700},"data":{"label":"uniform node","type":"texture","fov":45,"near":0.1,"far":100,"textureSrc":"rock_s.jpg"},"origin":[0.5,0],"measured":{"width":161,"height":201},"selected":false,"dragging":false}],"edges":[{"source":"0.4025455024919875","sourceHandle":"__output","target":"0.6788965243760299","targetHandle":"projection","id":"xy-edge__0.4025455024919875__output-0.6788965243760299projection","selected":false},{"source":"0.5984985949643993","sourceHandle":"__output","target":"0.6788965243760299","targetHandle":"view","id":"xy-edge__0.5984985949643993__output-0.6788965243760299view","selected":false},{"source":"0.6788965243760299","sourceHandle":"__output","target":"0.6883502327990607","targetHandle":"vert","id":"xy-edge__0.6788965243760299__output-0.6883502327990607vert","selected":false},{"source":"0.19876326526039723","sourceHandle":"__output","target":"0.6883502327990607","targetHandle":"geometry","id":"xy-edge__0.19876326526039723__output-0.6883502327990607geometry","selected":false},{"source":"0.017774521536926935","sourceHandle":"__output","target":"0.19876326526039723","targetHandle":"model","id":"xy-edge__0.017774521536926935__output-0.19876326526039723model","selected":false},{"source":"0.4656143492836935","sourceHandle":"__output","target":"0.6883502327990607","targetHandle":"frag","id":"xy-edge__0.4656143492836935__output-0.6883502327990607frag","selected":false},{"source":"0.6883502327990607","sourceHandle":"__output","target":"0.9690603646205747","targetHandle":"in","id":"xy-edge__0.6883502327990607__output-0.9690603646205747in","selected":false},{"source":"0.7345933226692245","sourceHandle":"__output","target":"0.4656143492836935","targetHandle":"time","id":"xy-edge__0.7345933226692245__output-0.4656143492836935time","selected":false},{"source":"0.7682362537268734","sourceHandle":"__output","target":"0.4656143492836935","targetHandle":"surface","id":"xy-edge__0.7682362537268734__output-0.4656143492836935surface","selected":false},{"source":"0.6542128537531322","sourceHandle":"__output","target":"0.4656143492836935","targetHandle":"nmap","id":"xy-edge__0.6542128537531322__output-0.4656143492836935nmap","selected":false},{"source":"0.06254261165239616","sourceHandle":"__output","target":"0.4656143492836935","targetHandle":"spec","id":"xy-edge__0.06254261165239616__output-0.4656143492836935spec","selected":false}]},"macros":[]}